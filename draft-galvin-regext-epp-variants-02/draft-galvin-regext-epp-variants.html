<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Domain variant support for EPP</title>
<meta content="James Galvin" name="author">
<meta content="Michael Bauland" name="author">
<meta content="
       This document defines an EPP extension allowing clients to learn about
and manipulate variant groups of domains, ie. groups of domains whose
names are equivalent in a registry-defined way and are tied to a
single registrant. 
    " name="description">
<meta content="xml2rfc 3.29.0" name="generator">
<meta content="EPP" name="keyword">
<meta content="draft-galvin-regext-epp-variants-latest" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.29.0
    Python 3.12.11
    ConfigArgParse 1.7
    google-i18n-address 3.1.1
    intervaltree 3.1.0
    Jinja2 3.1.6
    lxml 5.3.1
    platformdirs 4.3.8
    pycountry 24.6.1
    PyYAML 6.0.2
    requests 2.32.4
    setuptools 80.9.0
    wcwidth 0.2.13
-->
<link href="draft-galvin-regext-epp-variants.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}

@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Lora SemiBold'), local('Lora-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-semibold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C8A, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-cyrillic.woff2') format('woff2');
  unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-greek.woff2') format('woff2');
  unicode-range: U+0370-0377, U+037A-037F, U+0384-038A, U+038C, U+038E-03A1, U+03A3-03FF;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304, U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C8A, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-cyrillic.woff2') format('woff2');
  unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-greek.woff2') format('woff2');
  unicode-range: U+0370-0377, U+037A-037F, U+0384-038A, U+038C, U+038E-03A1, U+03A3-03FF;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304, U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

:root {
  color-scheme: light dark;
  --background-color: #fff;
  --text-color: #222;
  --title-color: #191919;
  --link-color: #2a6496;
  --highlight-color: #f9f9f9;
  --line-color: #eee;
  --pilcrow-weak: #ddd;
  --pilcrow-strong: #bbb;
  --small-font-size: 14.5px;
  --font-mono: 'Oxygen Mono', monospace;
  --font-title: "Sofia Sans Semi Condensed", sans-serif;
  scrollbar-color: #bbb #eee;
}
body {
  max-width: 600px;
  margin: 75px auto;
  padding: 0 5px;
  color: var(--text-color);
  background-color: var(--background-color);
  font: 16px/22px "Lora", serif;
  scroll-behavior: smooth;
}

.ears {
  display: none;
}

/* headings */
section {
  clear: both;
}
.section-number {
  padding-right: 0.5em;
}
h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-title);
  font-weight: 680;
  margin: 0.8em 0 0.3em;
  font-size-adjust: 0.5;
  color: var(--title-color);
}
h1#title {
  font-size: 32px;
  line-height: 40px;
  clear: both;
}
h1#title, h1#rfcnum {
  margin: 1.5em 0 0.2em;
}
h1#rfcnum + h1#title {
  margin: 0.2em 0;
}

h1, h2, h3 {
  font-size: 22px;
  line-height: 27px;
}
h4, h5, h6 {
  font-size: 20px;
  line-height: 24px;
}

/* general structure */
.author {
  padding-bottom: 0.3em;
  vertical-align: top;
}
#abstract+p {
  font-size: 18px;
  line-height: 24px;
}
#abstract+p code, #abstract+p samp, #abstract+p tt {
  font-size: 16px;
  line-height: 0;
}

p {
  padding: 0;
  margin: 0.5em 0;
  text-align: left;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignRight.art-text pre {
  padding: 0;
  width: auto;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
/* font-family isn't space-separated, but =~ will have to do */
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignCenter.art-text pre {
  padding: 0;
  width: auto;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 0.5em 2em;
  & :is(ol, ul) {
    margin-left: 1em;
  }
}
li {
  margin: 0 0 0.25em 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
  & li {
    margin-top: 0.5em;
  }
}
:is(ul, ol).compact, .ulCompact, .olCompact {
  margin: 0 0 0 2em;
  & li {
    margin: 0;
    & :first-child { margin-top: 0; }
    & :last-child { margin-bottom: 0; }
  }
}

/* definition lists */
dl {
  clear: left;
  --indent: 3ch;
  /* --indent: attr(indent ch); not supported in any browser, but we can dream */
  &.olPercent {
    --indent: 5ch;
    & > dt {
      min-width: calc(var(--indent) - 2ch);
    }
  }
  &.olPercent > dt {
    float: none;
  }

  dl > dd > & {
    margin-top: 0.5em;
    margin-bottom: 0;
  }
}
dl:not(.dlNewline) > dt {
  float: left;
  margin-right: 2ch;
  min-width: 8ch;
}
dl > dd {
  margin-bottom: .8em;
  margin-left: var(--indent) !important; /* stupid element overrides */
  min-height: 2ex;
}
:is(dl.compact, .dlCompact) > dd {
  margin-bottom: 0;
  & > :is(:first-child, .break:first-child + *) {
    margin-top: 0;
  }
  & > :is(:last-child) {
    margin-bottom: 0;
  }
}
:is(dd, span).break {
  display: none;
}

/* links */
a, a[href].selfRef:hover {
  text-decoration: none;
}
a[href] {
  color: var(--link-color);
}
a[href].selfRef, .iref + a[href].internal {
  color: var(--text-color);
}
a[href]:hover {
  text-decoration: underline;
}
a[href].selfRef:hover {
  background-color: var(--highlight-color);
}
a.xref:is(.cite, .auto), :is(#status-of-memo, #copyright) a {
  white-space: nowrap;
}

/* Figures */
tt, code, pre {
  background-color: var(--highlight-color);
  font: 14px/22px var(--font-mono);
}
tt, code {
  /* changing the font for inline elements leads to different ascender
     and descender heights; as we want to retain baseline alignment,
     remove leading to avoid altering the final height of lines
     note: this fails if these blocks take an entire line,
     a different solution would be great */
  line-height: 0;
}
:is(h1, h2, h3, h4, h5, h6) :is(tt, code) {
  font-size: 84%;
}
pre {
  border: 1px solid var(--line-color);
  font-size: 13.5px;
  line-height: 16px;
  letter-spacing: -0.2px;
  margin: 5px;
  padding: 5px;
}
img {
  max-width: 100%;
}
figure {
  margin: 0.5em 0;
  padding: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption, caption {
  font-style: italic;
  margin: 0.5em 1.5em;
  text-align: left;
  caption-side: bottom;
}
@media screen {
  /* Auto-collapse boilerplate. */
  :is(#status-of-memo, #copyright) p {
    margin: -2px 0;
    max-height: 0;
    transition: max-height 2s ease, margin 0.5s ease 0.5s;
    overflow: hidden;
  }
  :is(#status-of-memo, #copyright):hover p,
  :is(#status-of-memo, #copyright) h2:target ~ p {
    margin: 0.5em 0;
    max-height: 500px;
    overflow: auto;
  }
  pre, svg {
    display: inline-block;
    /* In the horizontal direction, sometimes people make over-sized figures.
       Scrollbars for those is therefore necessary: auto adds them as necessary..
       In the vertical direction, the line-height can combine with the font
       asender/descender height to produce scrollbars: hidden avoids that. */
    overflow: auto hidden;
  }
  pre {
    max-width: 100%;
    width: calc(100% - 22px - 1em);
  }
  svg {
    max-width: calc(100% - 22px - 1em);
  }
  figure pre {
    display: block;
    width: calc(100% - 25px);
  }
  :is(pre, svg) + .pilcrow {
    display: inline-block;
    vertical-align: text-bottom;
    padding-bottom: 8px;
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 0 2em;
  font-style: italic;
}
blockquote {
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: auto;
  max-width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
}
table.right {
  margin-left: auto;
}
table.center {
  margin-left: auto;
  margin-right: auto;
}
table.left {
  margin-right: auto;
}
table .text-left {
  text-align: left;
}
table .text-center {
  text-align: center;
}
table .text-right {
  text-align: right;
}

thead, tbody {
  border: 1px solid var(--line-color);
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 5px 10px;
}
th {
  background-color: var(--line-color);
}
:is(tr:nth-child(2n), thead+tbody > tr:nth-child(2n+1)) > td {
  background-color: var(--background-color);
}
:is(tr:nth-child(2n+1), thead+tbody > tr:nth-child(2n)) > td {
  background-color: var(--highlight-color);
}
table caption {
  margin: 0;
  padding: 3px 0 3px 1em;
}
table p {
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  margin-left: 3px;
  opacity: 0.2;
  user-select: none;
  &[href] {
    color: var(--pilcrow-weak);
    &:hover { text-decoration: none; }
  }
}
@media not print {
  :hover > a.pilcrow {
    opacity: 1;
  }
  a.pilcrow[href]:hover {
    color: var(--pilcrow-strong);
    background-color: transparent;
  }
}
@media print {
  a.pilcrow {
    display: none;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid var(--line-color);
}
.bcp14 {
  font-variant: small-caps;
  font-weight: 600;
  font-size: var(--small-font-size);
}
.role {
  font-variant: all-small-caps;
}
sub, sup {
  line-height: 1;
  font-size: 80%;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: var(--small-font-size);
  line-height: 18px;
  --identifier-width: 15ch;
  & dt {
    width: var(--identifier-width);
    min-width: var(--identifier-width);
    clear: left;
    float: left;
    text-align: right;
    margin-right: 1ch;
  }
  & dd {
    margin: 0;
    margin-left: calc(1em + var(--identifier-width)) !important;
    min-width: 5em;
  }
  & .authors {
    & .author {
      display: inline-block;
      margin-right: 1.5em;
    }
    & .org {
      font-style: italic;
    }
  }
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #999;
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;

  & nav {
    & ul {
      margin: 0 0.5em 0 0;
      padding: 0;
      list-style: none;
    }
    & li {
      line-height: 1.3em;
      margin: 2px 0;
      padding-left: 1.2em;
      text-indent: -1.2em;
    }
  }
  & a.xref {
    white-space: normal;
  }
}

.references {
  & > dt {
    text-align: right;
    font-weight: bold;
    min-width: 10ch;
    margin-right: 1.5ch;
    &:target::before {
      content: "⇒";
      margin: 0 10px 0 -25px;
    }
  }
  & > dd {
    margin-left: 12ch !important;
    overflow: visible;
    & .refInstance {
      margin-bottom: 0.8em;
    }
    & .ascii {
      margin-bottom: 0.25em;
    }
  }
}

#rfc\.index\.index + ul {
  margin-left: 0;
}

/* authors */
address.vcard {
  font-style: normal;
  max-width: 20em;
  margin: 1em auto 1em 0;

  & .nameRole {
    font-weight: 700;
    margin-left: 0;
  }
  & .label {
    margin: 0.5em 0;
  }
  & .type {
    display: none;
  }
  & .alternative-contact {
    margin: 0.5em 0 0.25em 0;
  }
  & .non-ascii {
    margin: 0 0 0 2em;
  }
  & div.left {
    text-align: left;
  }
  & div.right {
    text-align: right;
  }
}

hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}
@media (min-width: 500px) {
  #authors-addresses > section {
    column-count: 2;
    column-gap: 20px;
  }
  #authors-addresses > section > h2 {
    column-span: all;
  }
  /* hack for break-inside: avoid-column */
  #authors-addresses address {
    display: inline-block;
    break-inside: avoid-column;
  }
}

/* Comments */
.rfcEditorRemove p:first-of-type {
  font-style: italic;
}
.cref {
  background-color: rgba(249, 232, 105, 0.3);
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}

@media screen {
  #toc nav {
    font-family: var(--font-title);
    font-weight: 360;
    & > ul { margin-bottom: 2em; }
    & ul {
      margin: 0 0 0 4px;
      & :is(p, li) {
        margin: 2px 0;
      }
    }
  }
  #toc a.toplink {
    float: right;
  }
}
@media not screen {
  #toc a.toplink {
    display: none;
  }
}


/* TOC layout for smaller screens */
@media screen and (max-width: 929px) {
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 1px 0 0 0;
    margin: 0;
    border-bottom: 1px solid #ccc;
    opacity: 0.6;
  }
  #toc h2 {
    margin: 0;
    padding: 2px 0 2px 6px;
    padding-right: 1em;
    font-size: 18px;
    line-height: 24px;
    min-width: 190px;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
    &::before { /* css hamburger */
      float: right;
      position: relative;
      width: 1em;
      height: 1px;
      left: -164px;
      margin: 8px 0 0 0;
      background: white none repeat scroll 0 0;
      box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
      content: "";
    }
  }
  #toc nav {
    display: none;
    background-color: var(--background-color);
    padding: 0.5em 1em 1em;
    overflow: auto;
    overscroll-behavior: contain;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
  #toc.active {
    opacity: 1;
    & nav { display: block; }
  }
  /* Make the collapsed ToC header render white on gray also when it's a link */
  #toc h2 a,
  #toc h2 a:is(:link, :focus, :hover),
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
  #toc a.toplink {
    margin: 2px 0.5em 0;
  }
}

/* TOC layout for wide screens */
@media screen and (min-width: 930px) {
  body {
    padding-right: 360px;
    padding-right: calc(min(180px + 20%, 500px));
  }
  #toc {
    position: fixed;
    bottom: 0;
    right: 0;
    right: calc(50vw - 480px);
    width: 312px;
    margin: 0;
    padding: 0;
    z-index: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 2em;
    overflow: auto;
    overscroll-behavior: contain;
    scrollbar-width: thin;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
  #toc a.toplink {
    margin: 8px 0.5em 0;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre, .vcard {
    page-break-inside: avoid;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  :is(h2, h3, h4, h5, h6)+*, dd {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
}

/* Dark mode. */
@media (prefers-color-scheme: dark) {
:root {
  --background-color: #121212;
  --text-color: #f0f0f0;
  --title-color: #fff;
  --link-color: #4da4f0;
  --highlight-color: #282828;
  --line-color: #444;
  --pilcrow-weak: #444;
  --pilcrow-strong: #666;
  scrollbar-color: #777 #333;
}
}

/* SVG Trick: a prefix match works because only black and white are allowed */
svg :is([stroke="black"], [stroke^="#000"]) {
  stroke: var(--text-color);
}
svg :is([stroke="white"], [stroke^="#fff"]) {
  stroke: var(--background-color);
}
svg :is([fill="black"], [fill^="#000"], :not([fill])) {
  fill: var(--text-color);
}
svg :is([fill="white"], [fill^="#fff"]) {
  fill: var(--background-color);
}
</style>

</head>
<body class="xml2rfc">
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">EPP Variants</td>
<td class="right">July 2025</td>
</tr></thead>
<tfoot><tr>
<td class="left">Galvin &amp; Bauland</td>
<td class="center">Expires 8 January 2026</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">regext</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-galvin-regext-epp-variants-latest</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2025-07-07" class="published">7 July 2025</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2026-01-08">8 January 2026</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">J. Galvin</div>
<div class="org">Identity Digital</div>
</div>
<div class="author">
      <div class="author-name">M. Bauland</div>
<div class="org">Knipp Medien und Kommunikation GmbH</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Domain variant support for EPP</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This document defines an EPP extension allowing clients to learn about
and manipulate variant groups of domains, ie. groups of domains whose
names are equivalent in a registry-defined way and are tied to a
single registrant.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<section class="note rfcEditorRemove" id="section-note.1">
      <h2 id="name-discussion-venues">
<a href="#name-discussion-venues" class="section-name selfRef">Discussion Venues</a>
      </h2>
<p id="section-note.1-1">This note is to be removed before publishing as an RFC.<a href="#section-note.1-1" class="pilcrow">¶</a></p>
<p id="section-note.1-2">Discussion of this document takes place on the
    Registration Protocols Extensions Working Group mailing list (regext@ietf.org),
    which is archived at <span><a href="https://mailarchive.ietf.org/arch/browse/regext/">https://mailarchive.ietf.org/arch/browse/regext/</a></span>.<a href="#section-note.1-2" class="pilcrow">¶</a></p>
<p id="section-note.1-3">Source for this draft and an issue tracker can be found at
    <span><a href="https://github.com/arnt/regext-epp-variants">https://github.com/arnt/regext-epp-variants</a></span>.<a href="#section-note.1-3" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 8 January 2026.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2025 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="auto internal xref">1</a>.  <a href="#name-introduction" class="internal xref">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="auto internal xref">2</a>.  <a href="#name-requirements-language" class="internal xref">Requirements Language</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1" class="keepWithNext"><a href="#section-3" class="auto internal xref">3</a>.  <a href="#name-terms" class="internal xref">Terms</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="auto internal xref">4</a>.  <a href="#name-epp-commands" class="internal xref">EPP Commands</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="auto internal xref">4.1</a>.  <a href="#name-epp-check-command" class="internal xref">EPP &lt;check&gt; command</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="auto internal xref">5</a>.  <a href="#name-epp-info-command" class="internal xref">EPP &lt;info&gt; command</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="auto internal xref">6</a>.  <a href="#name-epp-transfer-command" class="internal xref">EPP &lt;transfer&gt; command</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="auto internal xref">7</a>.  <a href="#name-epp-create-command" class="internal xref">EPP &lt;create&gt; command</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="auto internal xref">8</a>.  <a href="#name-epp-update-command" class="internal xref">EPP &lt;update&gt; command</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="auto internal xref">9</a>.  <a href="#name-epp-delete-command" class="internal xref">EPP &lt;delete&gt; command</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="auto internal xref">10</a>. <a href="#name-epp-renew-command" class="internal xref">EPP renew command</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="auto internal xref">11</a>. <a href="#name-epp-transfer-query-command" class="internal xref">EPP &lt;transfer&gt; query command</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#section-12" class="auto internal xref">12</a>. <a href="#name-result-codes" class="internal xref">Result codes</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#section-13" class="auto internal xref">13</a>. <a href="#name-acknowledgements" class="internal xref">Acknowledgements</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a href="#section-14" class="auto internal xref">14</a>. <a href="#name-security-considerations" class="internal xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15">
            <p id="section-toc.1-1.15.1"><a href="#section-15" class="auto internal xref">15</a>. <a href="#name-iana-considerations" class="internal xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.16">
            <p id="section-toc.1-1.16.1"><a href="#section-16" class="auto internal xref">16</a>. <a href="#name-references" class="internal xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.16.2.1">
                <p id="section-toc.1-1.16.2.1.1"><a href="#section-16.1" class="auto internal xref">16.1</a>.  <a href="#name-normative-references" class="internal xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.16.2.2">
                <p id="section-toc.1-1.16.2.2.1"><a href="#section-16.2" class="auto internal xref">16.2</a>.  <a href="#name-informative-references" class="internal xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.17">
            <p id="section-toc.1-1.17.1"><a href="#appendix-A" class="auto internal xref">Appendix A</a>.  <a href="#name-open-issues" class="internal xref">Open issues</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.18">
            <p id="section-toc.1-1.18.1"><a href="#appendix-B" class="auto internal xref"></a><a href="#name-authors-addresses" class="internal xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">EPP is defined in <span>[<a href="#RFC5730" class="cite xref">RFC5730</a>]</span>. EPP commands were developed to operate on
a single object at a time. This document defines an EPP extension allowing
clients to learn about and manipulate variant groups of objects that have
a characteristic that makes them equivalent.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">Similar to EPP, the principal motivation for this extension was to provide a
standard Internet domain name registration extension for use between domain
name registrars and domain name registries.  This protocol provides a
means of interaction between a registrar's applications and registry
applications.  It is expected that this protocol will have additional
uses beyond domain name registration.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">As an example, the problem being considered is that spelling is not necessarily
uniform. For example, an è and an e may be regarded as equivalent in some languages,
and as different in others.<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">Some registries plan to support this explicitly, with groups of
variant domains that can only be registered by the same registrant. Having the same
registrant is most commonly considered essential for equivalence, since if the domains
are intended to be equivalent then the responsibility of maintaining that equivalence
must be present. This is a specific example of the more general "Same Entity Principle",
which in this specification is defined to mean that a variant group <span class="bcp14">MUST</span> be created, managed,
and deleted by the same entity. From a registry perspective the same entity would be
registrar; from the registrar's perspective the same entity would be the registrant.<a href="#section-1-4" class="pilcrow">¶</a></p>
<p id="section-1-5">This document does not define a variant or a group of variants, i.e., this document does
define what makes the domains in the variant group equivalent.
A registry policy <span class="bcp14">MUST</span> exist that specifies both that a registry supports
variant groups and that defines what domains are eligible to be a member
of a variant group. This policy <span class="bcp14">MUST</span> be agreed between a registry and a
registrar. The policy and the establishment of the agreement is outside
the scope of this specification.<a href="#section-1-5" class="pilcrow">¶</a></p>
<p id="section-1-6">A common policy expression among domain registries and registrars is to define
variants in terms of the script or language in use for an Internalized Domain
Name (IDN). IDN variants can arise when different characters or sequences of
characters in an IDN are considered equivalent in a particular language or script.
Standard Label Generation Rules (LGRs) are used to specify the IDN table that
establishes the variant relationships. This common policy is presumed and used
as an example in this specification.<a href="#section-1-6" class="pilcrow">¶</a></p>
<p id="section-1-7">With this extension, registering a domain creates a variant group and the first
domain registered in the group becomes the group's Primary Domain. The creation of the Primary
Domain <span class="bcp14">MAY</span> establish rules or guidelines regarding the domains that are eligible
to be a member of the group, e.g., an LGR, an IDN table, and a Primary Domain
taken together will define a variant group.<a href="#section-1-7" class="pilcrow">¶</a></p>
<p id="section-1-8">Subsequent domains in the same group can only be registered by the same registrar, which
asserts that it is acting on behalf of the same registrant. Each domain in
a variant group may be the target of any EPP command, with the following
restrictions.<a href="#section-1-8" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1-9.1">
          <p id="section-1-9.1.1">A &lt;transfer&gt; of any domain in any variant group always acts on the entire group.
This is required to ensure that the variant group is always registered by the same registrant
and managed via the same registrar. Registry policy <span class="bcp14">MAY</span> be impose additional restrictions.<a href="#section-1-9.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-1-9.2">
          <p id="section-1-9.2.1">The &lt;delete&gt; of a Primary Domain in any variant group always acts on the entire group. This is
required to support the option where the Primary Domain establishes the rules or
guidelines for the creation of other domains in the group.<a href="#section-1-9.2.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="section-1-10">This extension is backwards compatible with registrars that do not support variant
groups. Specifically, this extension supports registries that do support variant
groups interacting with registrars that do not support variant groups. Registrars that do
not support variants that attempt to act on a member of a variant group inappropriately
will receive a compatible error response with which they can continue to function.
The compatible error response may not provide sufficient detail to fully understand
the rejection but will be sufficient to ensure continuation of normal operations.<a href="#section-1-10" class="pilcrow">¶</a></p>
<p id="section-1-11">The remainder of this document describes the specific details.<a href="#section-1-11" class="pilcrow">¶</a></p>
<p id="section-1-12"><strong>TODO</strong>: login exchange of variant-aware<a href="#section-1-12" class="pilcrow">¶</a></p>
<p id="section-1-13"><strong>TODO</strong>: discussion of reference to EPP Extensibility and Extension Analysis
https://docs.google.com/document/d/1WR00oB43XZCDqD0zvRvRajuWAq_9wQ3c0RrFKlGC3So/edit?tab=t.0<a href="#section-1-13" class="pilcrow">¶</a></p>
</section>
</div>
<div id="requirements-language">
<section id="section-2">
      <h2 id="name-requirements-language">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-requirements-language" class="section-name selfRef">Requirements Language</a>
      </h2>
<p id="section-2-1">The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>", "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>", "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
"<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be interpreted as
described in BCP 14 <span>[<a href="#RFC2119" class="cite xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="cite xref">RFC8174</a>]</span> when, and only when, they
appear in all capitals, as shown here.<a href="#section-2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="terms">
<section id="section-3">
      <h2 id="name-terms">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-terms" class="section-name selfRef">Terms</a>
      </h2>
<p id="section-3-1">Allocated variant: A domain that has been created in the registry, and
which is tied to an existing primary domain.<a href="#section-3-1" class="pilcrow">¶</a></p>
<p id="section-3-2">Allocatable variant: A domain that has not been allocated but is allocatable
(according to the LGR), and which is conceptually tied to an existing
primary domain.<a href="#section-3-2" class="pilcrow">¶</a></p>
<p id="section-3-3">Activated variant: An allocated domain that is in the DNS.<a href="#section-3-3" class="pilcrow">¶</a></p>
<p id="section-3-4">Blocked domain: A domain that cannot be allocated due to its disposition
value in relation to the primary domain name.<a href="#section-3-4" class="pilcrow">¶</a></p>
<p id="section-3-5">Disposition Value: While a variant relationship is symmetric it has exactly
one of two disposition values which are not necessarily symmetric. A variant
can be "allocatable" (i.e., available for the same entity) or "blocked"
(i.e., not available for anybody).<a href="#section-3-5" class="pilcrow">¶</a></p>
<p id="section-3-6">Exempted domain: A preexisting domain that exists as a stand-alone domain,
but would be part of a variant group if it were allocated now. Exempted domains
may exist with any registrant at any registrar. The exemption stops
as soon as at most 1 allocated domain remains within a variant group.<a href="#section-3-6" class="pilcrow">¶</a></p>
<p id="section-3-7">IDN Table: The combined information about what characters (code points)
are available for domain registration as well as the variant relationships
between those code points. IDN tables can be defined via RFC3743 or RFC4290
or LGRs (RFC7940). The latter one <span class="bcp14">SHOULD</span> be used as it also allows the
formal definition of context rules, which is lacking in the former ones.<a href="#section-3-7" class="pilcrow">¶</a></p>
<p id="section-3-8">Label Generation Rules (LGR): The preferred way of defining IDN tables.
Among others, they define the variant relationships as well as their
disposition values (blocked or allocatable). The formal definition of LGRs
can be fond in RFC7940.<a href="#section-3-8" class="pilcrow">¶</a></p>
<p id="section-3-9">Primary domain: The chronologically first domain in a variant group.
While the variant relationship is symmetric, its disposition value is not.
It can either be blocked or allocatable. The primary domain name therefore
partitions the variant group into allocatable variants and blocked variants.
In case of variant TLDs, there can be a primary domain per TLD.<a href="#section-3-9" class="pilcrow">¶</a></p>
<p id="section-3-10">Same Entity Principle: A requirement that all domains within a variant group
either belong to the same entity (i.e., the same registrant via the same
registrar) or are withheld for that entity. No other entity is allowed to
activate any domain within the same variant group.<a href="#section-3-10" class="pilcrow">¶</a></p>
<p id="section-3-11">Variant domain: A domain in a variant group which is not a primary domain.<a href="#section-3-11" class="pilcrow">¶</a></p>
<p id="section-3-12">Variant group: An implicit set of domains defined by the Label
Generation Rule (LGR) of the registry. The variant relationship is
symmetric and transitive. Hence, an arbitrary element of a variant set
defines the whole set. This set is not expressed explicitly in EPP,
because it can be impractically large. At the time of writing, a domain
is registered whose variant set would contain 10¹⁵ variants.<a href="#section-3-12" class="pilcrow">¶</a></p>
<p id="section-3-13"><strong>TODO</strong>: Do we need to differentiate between allocated and activated?<a href="#section-3-13" class="pilcrow">¶</a></p>
<p id="section-3-14"><strong>TODO</strong>: Does it make any difference, whether a variant has DNS name servers or not?<a href="#section-3-14" class="pilcrow">¶</a></p>
</section>
</div>
<div id="epp-commands">
<section id="section-4">
      <h2 id="name-epp-commands">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-epp-commands" class="section-name selfRef">EPP Commands</a>
      </h2>
<div id="epp-ltcheckgt-command">
<section id="section-4.1">
        <h3 id="name-epp-check-command">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-epp-check-command" class="section-name selfRef">EPP &lt;check&gt; command</a>
        </h3>
<p id="section-4.1-1"><strong>TODO</strong>: probably better not to have a command extension. For Registrars, it
would be difficult to determine the suitable primary domain. Therefore,
it is better to not ask them to send it, but rather return the appropriate
primary domain name in the response.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1-2">This extension defines a new command called the Variant Check Command
that defines an additional Primary Domain name element for the EPP
&lt;check&gt; command.<a href="#section-4.1-2" class="pilcrow">¶</a></p>
<p id="section-4.1-3">The command <span class="bcp14">MAY</span> contain an &lt;extension&gt; element, which <span class="bcp14">MUST</span> contain a
&lt;var:check&gt; element. The &lt;var:check&gt; element <span class="bcp14">MUST</span> contain one
&lt;var:primary&gt; element containing the intended primary domain.<a href="#section-4.1-3" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.1-4">
<pre>
C: &lt;?xml version="1.0" encoding="utf-8" standalone="no"?&gt;
C: &lt;epp xmlns="urn:ietf:params:xml:ns:epp-1.0"&gt;
C:   &lt;command&gt;
C:     &lt;check&gt;
C:       &lt;domain:check
C:         xmlns:domain="urn:ietf:params:xml:ns:domain-1.0"&gt;
C:         &lt;domain:name&gt;examplev1.com&lt;/domain:name&gt;
C:         &lt;domain:name&gt;examplev1.net&lt;/domain:name&gt;
C:         &lt;domain:name&gt;examplev1.xyz&lt;/domain:name&gt;
C:       &lt;/domain:check&gt;
C:     &lt;/check&gt;
C:     &lt;extension&gt;
C:       &lt;var:check xmlns:var="urn:ietf:params:xml:ns:epp:variants-1.0"&gt;
C:         &lt;var:primary&gt;example.com&lt;var:primary&gt;
C:       &lt;/var:check&gt;
C:     &lt;/extension&gt;
C:     &lt;clTRID&gt;ABC-12345&lt;/clTRID&gt;
C:   &lt;/command&gt;
C: &lt;/epp&gt;
</pre><a href="#section-4.1-4" class="pilcrow">¶</a>
</div>
<p id="section-4.1-5">When the server receives a &lt;check&gt; command from a
variant-agnostic client and any domain within the checked domain's
variant group is allocated (or at least one exempted
domain within the variant group exists) the server <span class="bcp14">MUST NOT</span> include
an &lt;extension&gt; element. Instead, its response <span class="bcp14">MUST</span>
be available = "false". The optional reason <span class="bcp14">MAY</span> be
"Unavailable (except as variant)" to tell the registrar it
might be available as a variant.<a href="#section-4.1-5" class="pilcrow">¶</a></p>
<p id="section-4.1-6">When the server receives a &lt;check&gt; command from a variant-aware
client and the checked domain is part of a variant group with at least one
allocated variant (or exempted domain),
its response <span class="bcp14">MUST</span> contain an &lt;extension&gt; element, which <span class="bcp14">MUST</span>
contain a child &lt;var:chkData&gt; element. The &lt;fee:chkData&gt;
element <span class="bcp14">MUST</span> contain a &lt;var:cd&gt; element for each object referenced in
the client &lt;check&gt; command.<a href="#section-4.1-6" class="pilcrow">¶</a></p>
<p id="section-4.1-7">Each &lt;var:cd&gt; (check data) element <span class="bcp14">MUST</span> contain the following child
elements:<a href="#section-4.1-7" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.1-8.1">
            <p id="section-4.1-8.1.1">A &lt;var:objID&gt; element, which <span class="bcp14">MUST</span> match an element referenced in
the client &lt;check&gt; command.<a href="#section-4.1-8.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.1-8.2">
            <p id="section-4.1-8.2.1">An <span class="bcp14">OPTIONAL</span> &lt;var:primary&gt; element.<a href="#section-4.1-8.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.1-8.3">
            <p id="section-4.1-8.3.1">A &lt;var:status&gt; element, which explains in more detail the availability
status of the queried domain.<a href="#section-4.1-8.3.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-4.1-9">Example &lt;check&gt; response:<a href="#section-4.1-9" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.1-10">
<pre>
S: &lt;?xml version="1.0" encoding="utf-8" standalone="no"?&gt;
S: &lt;epp xmlns="urn:ietf:params:xml:ns:epp-1.0"&gt;
S:   &lt;response&gt;
S:     &lt;result code="1000"&gt;
S:       &lt;msg&gt;Command completed successfully&lt;/msg&gt;
S:     &lt;/result&gt;
S:     &lt;resData&gt;
S:       &lt;domain:chkData
S:         xmlns:domain="urn:ietf:params:xml:ns:domain-1.0"&gt;
S:         &lt;domain:cd&gt;
S:           &lt;domain:name avail="1"&gt;examplev1.com&lt;/domain:name&gt;
S:         &lt;/domain:cd&gt;
S:         &lt;domain:cd&gt;
S:           &lt;domain:name avail="0"&gt;examplev1.net&lt;/domain:name&gt;
S:         &lt;/domain:cd&gt;
S:         &lt;domain:cd&gt;
S:           &lt;domain:name avail="0"&gt;examplev1.tel&lt;/domain:name&gt;
S:         &lt;/domain:cd&gt;
S:         &lt;domain:cd&gt;
S:           &lt;domain:name avail="0"&gt;examplev1.swiss&lt;/domain:name&gt;
S:         &lt;/domain:cd&gt;
S:       &lt;/domain:chkData&gt;
S:     &lt;/resData&gt;
S:     &lt;extension&gt;
S:       &lt;var:chkData
S:           xmlns:var="urn:ietf:params:xml:ns:epp:variants-1.0"&gt;
S:         &lt;var:cd avail="1"&gt;
S:           &lt;var:objID&gt;example.com&lt;/var:objID&gt;
S:           &lt;var:primary&gt;example.com&lt;/var:primary&gt;
S:           &lt;var:status&gt;AllocatableVariant&lt;/var:status&gt;
S:         &lt;/var:cd&gt;
S:         &lt;var:cd avail="0"&gt;
S:           &lt;var:objID&gt;example.net&lt;/var:objID&gt;
S:           &lt;var:status&gt;NotSameEntity&lt;/var:status&gt;
S:         &lt;/var:cd&gt;
S:         &lt;var:cd avail="0"&gt;
S:           &lt;var:objID&gt;example.tel&lt;/var:objID&gt;
S:           &lt;var:status&gt;Blocked&lt;/var:status&gt;
S:         &lt;/var:cd&gt;
S:         &lt;var:cd avail="0"&gt;
S:           &lt;var:objID&gt;example.swiss&lt;/var:objID&gt;
S:           &lt;var:status&gt;PendingTransfer&lt;/var:status&gt;
S:         &lt;/var:cd&gt;
S:       &lt;/var:chkData&gt;
S:     &lt;/extension&gt;
S:     &lt;trID&gt;
S:       &lt;clTRID&gt;ABC-12345&lt;/clTRID&gt;
S:       &lt;svTRID&gt;54322-XYZ&lt;/svTRID&gt;
S:     &lt;/trID&gt;
S:   &lt;/response&gt;
S: &lt;/epp&gt;
</pre><a href="#section-4.1-10" class="pilcrow">¶</a>
</div>
<p id="section-4.1-11">The EPP &lt;check&gt; command may return five new results:<a href="#section-4.1-11" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.1-12.1">
            <p id="section-4.1-12.1.1">The domain cannot be provisioned because it is a variant of a
Primary Domain, and the Primary Domain belongs to a different client
=&gt; NotSameEntity<a href="#section-4.1-12.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.1-12.2">
            <p id="section-4.1-12.2.1">The domain cannot be provisioned because its disposition value is blocked.
=&gt; Blocked<a href="#section-4.1-12.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.1-12.3">
            <p id="section-4.1-12.3.1">The domain cannot be provisioned because it is a variant of at
least one exempted domain.
=&gt; Exempted<a href="#section-4.1-12.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.1-12.4">
            <p id="section-4.1-12.4.1">The domain cannot be provisioned because it is a variant in a group
that is currently being transferred to a different registrar.
=&gt; PendingTransfer<a href="#section-4.1-12.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.1-12.5">
            <p id="section-4.1-12.5.1">Additional custom value that may be used for server peculiarities.
=&gt; Custom<a href="#section-4.1-12.5.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
</section>
</div>
<div id="epp-ltinfogt-command">
<section id="section-5">
      <h2 id="name-epp-info-command">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-epp-info-command" class="section-name selfRef">EPP &lt;info&gt; command</a>
      </h2>
<p id="section-5-1">For variant-agnostic clients
there is no change to the standard behaviour. The response contains the
actual data of the domain, independent of the fact whether it is a variant
or not, in addition to the following:<a href="#section-5-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5-2.1">
          <p id="section-5-2.1.1">if the variant-agnostic registrar is inquiring about a non-allocated variant,
the response <span class="bcp14">SHOULD</span> be the same as the registrar inquiring about a reserved name.
If you don't have a policy, suggest a policy.<a href="#section-5-2.1.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="section-5-3"><strong>TODO</strong>: XML example of response?<a href="#section-5-3" class="pilcrow">¶</a></p>
<p id="section-5-4">For variant-aware clients, the EPP &lt;info&gt; command is not extended,
but its response is extended
if the &lt;info&gt; command concerns a variant domain, i.e., at least two
domains within a variant group have been activated. The response then always
<span class="bcp14">MUST</span> include all primary domain names across all activated variant TLDs. Optionally
the response may include the list of all activated variants (across
all variant TLDs).<a href="#section-5-4" class="pilcrow">¶</a></p>
<p id="section-5-5">In case a Primary Domain name is queried in the &lt;info&gt; command,
the list of activated variants within the same TLD <span class="bcp14">MUST</span> be returned.<a href="#section-5-5" class="pilcrow">¶</a></p>
<p id="section-5-6">In other words:
* If you ask about a primary domain name
  * you <span class="bcp14">MUST</span> return all primary labels in all variant TLDs
  * you <span class="bcp14">MUST</span> return all activated variants in that TLD
  * you <span class="bcp14">MAY</span> return all activated variants in all variant TLDs<a href="#section-5-6" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5-7.1">
          <p id="section-5-7.1.1">if you ask about a variant domain<a href="#section-5-7.1.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5-7.1.2.1">
              <p id="section-5-7.1.2.1.1">you <span class="bcp14">MUST</span> return the primary label for that variant<a href="#section-5-7.1.2.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-5-7.1.2.2">
              <p id="section-5-7.1.2.2.1">you <span class="bcp14">MUST</span> return all primary labels in all variant TLDs<a href="#section-5-7.1.2.2.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-5-7.1.2.3">
              <p id="section-5-7.1.2.3.1">you <span class="bcp14">MAY</span> return all activated variants in that TLD<a href="#section-5-7.1.2.3.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-5-7.1.2.4">
              <p id="section-5-7.1.2.4.1">you <span class="bcp14">MAY</span> return all activated variants in all variant TLDs<a href="#section-5-7.1.2.4.1" class="pilcrow">¶</a></p>
</li>
          </ul>
</li>
      </ul>
<p id="section-5-8">The main part of the response <span class="bcp14">MUST</span> contain the actual data of the queried
domain name (contacts, hosts, status values, etc.)<a href="#section-5-8" class="pilcrow">¶</a></p>
<p id="section-5-9"><strong>TODO</strong>: check whether EPP spec says anything about the alignment of check and info.<a href="#section-5-9" class="pilcrow">¶</a></p>
</section>
</div>
<div id="epp-lttransfergt-command">
<section id="section-6">
      <h2 id="name-epp-transfer-command">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-epp-transfer-command" class="section-name selfRef">EPP &lt;transfer&gt; command</a>
      </h2>
<p id="section-6-1">If a variant-agnostic client initiates a transfer-in of a variant domain, i.e.,
at least two domains in a variant group have been activated, the transfer
request <span class="bcp14">MUST</span> be denied using 2305 "Object status prohibits operation".<a href="#section-6-1" class="pilcrow">¶</a></p>
<p id="section-6-2"><strong>TODO</strong>: xml example<a href="#section-6-2" class="pilcrow">¶</a></p>
<p id="section-6-3">If a variant-aware client initiates a transfer-in of a variant domain, i.e.,
at least two domains in a variant group have been activated, the transfer request
<span class="bcp14">MUST</span> include an extension specifying the Primary Domain for the indicated variant
domain, including if the Primary Domain is the domain indicated in the
transfer-in. If the extension is not present the transfer request <span class="bcp14">MUST</span> be denied
using 2003 "Required parameter missing".<a href="#section-6-3" class="pilcrow">¶</a></p>
<p id="section-6-4">The &lt;transfer&gt; response is extended <span class="bcp14">MUST</span> include the complete group of all activated
variants formed by combining all variant groups from all variant TLDs.<a href="#section-6-4" class="pilcrow">¶</a></p>
<p id="section-6-5"><strong>TODO</strong>: It must be ensured that the poll message to the losing registrar
also contains the full list of domains that will be transferred together with
the primary domain.<a href="#section-6-5" class="pilcrow">¶</a></p>
<p id="section-6-6"><strong>TODO</strong>: xml example<a href="#section-6-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="epp-ltcreategt-command">
<section id="section-7">
      <h2 id="name-epp-create-command">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-epp-create-command" class="section-name selfRef">EPP &lt;create&gt; command</a>
      </h2>
<p id="section-7-1">The EPP &lt;create&gt; command's standard task is to provision a new
domain. If the domain to be created is part of a variant group, the command
<span class="bcp14">MUST</span> be rejected as follows.<a href="#section-7-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7-2.1">
          <p id="section-7-2.1.1">If the client is variant-agnostic, the response <span class="bcp14">SHOULD</span> be the same as if
the domain to be created is reserved.<a href="#section-7-2.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-7-2.2">
          <p id="section-7-2.2.1">If the client is variant-aware, the response <span class="bcp14">MUST</span> indicate that it is an
inappropriate use of the command.<a href="#section-7-2.2.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="section-7-3">The &lt;create&gt; <span class="bcp14">MUST</span> only be used to create the Primary Domain. The task of
converting an allocatable domain into an allocated
domain <span class="bcp14">MUST</span> be performed using the &lt;update&gt; command.<a href="#section-7-3" class="pilcrow">¶</a></p>
<p id="section-7-4">If a client initiates the creation of a domain that does not
exist and is not a member of any variant group, then the following actions are
<span class="bcp14">REQUIRED</span>.<a href="#section-7-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7-5.1">
          <p id="section-7-5.1.1">If the create is otherwise permitted and the domain could be a Primary Domain,
the server <span class="bcp14">MUST</span> ensure that all eligible members of the variant group are
prevented from creation or allocation until such time as the domain
is expressly indicated by the client to be a Primary Domain.<a href="#section-7-5.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-7-5.2">
          <p id="section-7-5.2.1">The server <span class="bcp14">MUST</span> act on the create and respond to the client as if the domain is
a new domain.<a href="#section-7-5.2.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="section-7-6">__ TODO__: make clear that registering the first domain within any variant
group must not be rejected. The rejection only happens if at least one other
domain of that variant group already exists.<a href="#section-7-6" class="pilcrow">¶</a></p>
<p id="section-7-7">The EPP &lt;create&gt; command may have five new errors, as described
in the &lt;check&gt; section above.<a href="#section-7-7" class="pilcrow">¶</a></p>
<p id="section-7-8"><strong>TODO</strong>: check alignment of the new error codes<a href="#section-7-8" class="pilcrow">¶</a></p>
</section>
</div>
<div id="epp-ltupdategt-command">
<section id="section-8">
      <h2 id="name-epp-update-command">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-epp-update-command" class="section-name selfRef">EPP &lt;update&gt; command</a>
      </h2>
<p id="section-8-1">The EPP &lt;update&gt; command is extended to cover two new tasks:<a href="#section-8-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8-2.1">
          <p id="section-8-2.1.1">Activating a variant domain in an existing variant group<a href="#section-8-2.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-8-2.2">
          <p id="section-8-2.2.1">Converting an Exempted Domain into a Primary Domain and optionally
converting other Exempted Domains that are eligible to be in the variant
group of the stated Primary Domain to be activated domains of the
variant group.<a href="#section-8-2.2.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="section-8-3">This extended &lt;update&gt; is not valid for use by a variant-agnostic
client. Any use by a variant-agnostic client <span class="bcp14">MUST</span> be rejected.<a href="#section-8-3" class="pilcrow">¶</a></p>
<p id="section-8-4">This rest of this section specifies behavior when variant-aware
servers and clients are interacting.<a href="#section-8-4" class="pilcrow">¶</a></p>
<p id="section-8-5">When a client wishes to provision a new domain in a variant
group, it uses the &lt;update&gt; command rather than the
&lt;create&gt; command. This informs the server that the client
understands that the task is to provision a variant domain rather than
a new domain, and asserts that the two domains belong to the
same registrant.<a href="#section-8-5" class="pilcrow">¶</a></p>
<p id="section-8-6">The &lt;update&gt; command <span class="bcp14">MUST</span> specify the domain to be activated and
include an element specifying the Primary Domain that identifies the
correct variant group for the domain.<a href="#section-8-6" class="pilcrow">¶</a></p>
<p id="section-8-7">Note that depending on registry policy, the variant domain may share
attributes with the Primary Domain, e.g., nameservers.
A registry policy <span class="bcp14">MAY</span> specify rules or guidelines for the
set of elements required or permitted for a variant domain according to the
Primary Domain.<a href="#section-8-7" class="pilcrow">¶</a></p>
<p id="section-8-8"><strong>TODO</strong>: xml example<a href="#section-8-8" class="pilcrow">¶</a></p>
<p id="section-8-9">If a client wishes to convert an exempted domain into a member
of a variant group as an allocated variant,
it issues an &lt;update&gt;
command including and element with both the Primary Domain and separately the list
of exempted domains, which the client thereby asserts belong to the
same registrant. Note that the client <span class="bcp14">MUST</span> include all related exempted domains
in the list or the server <span class="bcp14">MUST</span> reject the command. The response <span class="bcp14">MUST</span> include
the complete list of exempted domains for the client.<a href="#section-8-9" class="pilcrow">¶</a></p>
<p id="section-8-10"><strong>TODO</strong>: xml example<a href="#section-8-10" class="pilcrow">¶</a></p>
</section>
</div>
<div id="epp-ltdeletegt-command">
<section id="section-9">
      <h2 id="name-epp-delete-command">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-epp-delete-command" class="section-name selfRef">EPP &lt;delete&gt; command</a>
      </h2>
<p id="section-9-1">If a variant-agnostic client issues a &lt;delete&gt; command there is no change
from the standard functionality.<a href="#section-9-1" class="pilcrow">¶</a></p>
<p id="section-9-2">If a variant-aware client issues a &lt;delete&gt; command, the command is extended
to REQUIRE the client to include an extension indicating the Primary Domain of
the domain being deleted, which the client thereby asserts that both domains belong
to the same registrant.  If a Primary Domain is being deleted then the same
domain name <span class="bcp14">MUST</span> be specified in the extension.<a href="#section-9-2" class="pilcrow">¶</a></p>
<p id="section-9-3">If a Primary Domain is to be deleted, the &lt;delete&gt; command is extended
to include the deletion of all
variant domains in all variant groups in all Variant TLDs. The response <span class="bcp14">MUST</span> include a
list of all the allocated domains in all variant groups that were deleted.<a href="#section-9-3" class="pilcrow">¶</a></p>
<p id="section-9-4"><strong>TODO</strong>: xml example<a href="#section-9-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="epp-renew-command">
<section id="section-10">
      <h2 id="name-epp-renew-command">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-epp-renew-command" class="section-name selfRef">EPP renew command</a>
      </h2>
<p id="section-10-1">The EPP renew command is not extended.<a href="#section-10-1" class="pilcrow">¶</a></p>
<p id="section-10-2">The server <span class="bcp14">MAY</span> reject renewals while a variant group is being
transferred.<a href="#section-10-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="epp-lttransfergt-query-command">
<section id="section-11">
      <h2 id="name-epp-transfer-query-command">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-epp-transfer-query-command" class="section-name selfRef">EPP &lt;transfer&gt; query command</a>
      </h2>
<p id="section-11-1">The EPP &lt;transfer&gt; query command is not extended.<a href="#section-11-1" class="pilcrow">¶</a></p>
<p id="section-11-2">Note that because variant groups are transferred as a group, the
result of the a &lt;transfer&gt; query command is necessarily the same
for all domains in a group. Therefore, the result of &lt;transfer&gt;
query command for any domain in a variant group applies to all domains
in the group.<a href="#section-11-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="result-codes">
<section id="section-12">
      <h2 id="name-result-codes">
<a href="#section-12" class="section-number selfRef">12. </a><a href="#name-result-codes" class="section-name selfRef">Result codes</a>
      </h2>
<p id="section-12-1">The following additional result codes are defined:<a href="#section-12-1" class="pilcrow">¶</a></p>
<p id="section-12-2">23x1: Change impossible because of a transfer in progress.<a href="#section-12-2" class="pilcrow">¶</a></p>
<p id="section-12-3">23x2: Change impossible because something is not a variant.<a href="#section-12-3" class="pilcrow">¶</a></p>
<p id="section-12-4">This error code is used when a change presupposes that two domains
belong to the same variant group, but the EPP server's implementation
disagrees.<a href="#section-12-4" class="pilcrow">¶</a></p>
<p id="section-12-5">23x3: Change impossible due to invalid primary domain<a href="#section-12-5" class="pilcrow">¶</a></p>
<p id="section-12-6">This error code is used when the primary domain specified in the
command is not registered, or is not registered via this registrar.<a href="#section-12-6" class="pilcrow">¶</a></p>
<p id="section-12-7">23x4: Change impossible due to unspecified primary domain<a href="#section-12-7" class="pilcrow">¶</a></p>
<p id="section-12-8">This error code is used when a command needs to specify a primary
domain, and does not.<a href="#section-12-8" class="pilcrow">¶</a></p>
<p id="section-12-9">23x5: Specified domain is exempted<a href="#section-12-9" class="pilcrow">¶</a></p>
<p id="section-12-10">This error code is used when a domain specifies a primary domain, and
the change is impossible because the specified domain is exempted
instead.<a href="#section-12-10" class="pilcrow">¶</a></p>
<p id="section-12-11">23x6: Specified domain is allocatable, but not by you.<a href="#section-12-11" class="pilcrow">¶</a></p>
<p id="section-12-12">This result code is used when a domain is a member of a variant set,
and the command did not refer to the primary domain.<a href="#section-12-12" class="pilcrow">¶</a></p>
</section>
</div>
<div id="acknowledgements">
<section id="section-13">
      <h2 id="name-acknowledgements">
<a href="#section-13" class="section-number selfRef">13. </a><a href="#name-acknowledgements" class="section-name selfRef">Acknowledgements</a>
      </h2>
<p id="section-13-1">The design of this extension is almost completely based on work done
by and decisions made by the <span>[<a href="#EPDP" class="cite xref">EPDP</a>]</span> committee, which was reviewed by
a small technical design team chaired by James Galvin. Members of this
team included Dennis Tan, Rick Wilhelm, Edmon Chung, and Jennifer Chung.
This text (in RFC format) was initially written by Arnt
Gulbrandsen based on a conference presentation by James Galvin.<a href="#section-13-1" class="pilcrow">¶</a></p>
<p id="section-13-2">[YOUR NAME HERE] have reviewed it and provided helpful
comments or contributed in other ways.<a href="#section-13-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="Security">
<section id="section-14">
      <h2 id="name-security-considerations">
<a href="#section-14" class="section-number selfRef">14. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-14-1">If two domains are different according to the DNS rules and identical
in the eyes of the intended audience, then the audience may be
confused. Confusion can always have security-related effects.<a href="#section-14-1" class="pilcrow">¶</a></p>
<p id="section-14-2">This extension expresses the relationships between variants clearly,
making it a little more difficult for a would-be impersonator to
register a variant of another registrant's existing domain.<a href="#section-14-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="IANA">
<section id="section-15">
      <h2 id="name-iana-considerations">
<a href="#section-15" class="section-number selfRef">15. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
    </h2>
</section>
</div>
<div id="sec-combined-references">
<section id="section-16">
      <h2 id="name-references">
<a href="#section-16" class="section-number selfRef">16. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<div id="sec-normative-references">
<section id="section-16.1">
        <h3 id="name-normative-references">
<a href="#section-16.1" class="section-number selfRef">16.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC5730">[RFC5730]</dt>
        <dd>
<span class="refAuthor">Hollenbeck, S.</span>, <span class="refTitle">"Extensible Provisioning Protocol (EPP)"</span>, <span class="seriesInfo">STD 69</span>, <span class="seriesInfo">RFC 5730</span>, <span class="seriesInfo">DOI 10.17487/RFC5730</span>, <time datetime="2009-08" class="refDate">August 2009</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc5730">https://www.rfc-editor.org/rfc/rfc5730</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
      <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</div>
<div id="sec-informative-references">
<section id="section-16.2">
        <h3 id="name-informative-references">
<a href="#section-16.2" class="section-number selfRef">16.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="RFC7940">[RFC7940]</dt>
        <dd>
<span class="refAuthor">Davies, K.</span> and <span class="refAuthor">A. Freytag</span>, <span class="refTitle">"Representing Label Generation Rulesets Using XML"</span>, <span class="seriesInfo">RFC 7940</span>, <span class="seriesInfo">DOI 10.17487/RFC7940</span>, <time datetime="2016-08" class="refDate">August 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc7940">https://www.rfc-editor.org/rfc/rfc7940</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="EPDP">[EPDP]</dt>
      <dd>
<span class="refAuthor">ICANN</span>, <span class="refTitle">"Phase 2 Initial Report of the EPDP on Internationalized Domain Names"</span>, <time datetime="2024" class="refDate">2024</time>, <span>&lt;<a href="https://www.icann.org/en/public-comment/proceeding/phase-2-initial-report-of-the-epdp-on-internationalized-domain-names-11-04-2024">https://www.icann.org/en/public-comment/proceeding/phase-2-initial-report-of-the-epdp-on-internationalized-domain-names-11-04-2024</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
<div id="open-issues">
<section id="appendix-A">
      <h2 id="name-open-issues">
<a href="#appendix-A" class="section-number selfRef">Appendix A. </a><a href="#name-open-issues" class="section-name selfRef">Open issues</a>
      </h2>
<p id="appendix-A-1">Open issue: Assign numbers to the error codes, properly.<a href="#appendix-A-1" class="pilcrow">¶</a></p>
<p id="appendix-A-2">Open issue: Not clear that there are any security considerations here
— the relationships between the domains may have some, but those exist
outside EPP, EPP merely describes them. In Italian, caffe and caffè
are variants of the same thing, it's not clear that linking them in a
protocol affects security in any way.<a href="#appendix-A-2" class="pilcrow">¶</a></p>
<p id="appendix-A-3">Open issue: Check how to insert a DS record in a variant domain.<a href="#appendix-A-3" class="pilcrow">¶</a></p>
<p id="appendix-A-4">Open issue: Can a unicode upgrade cause domains to become
exempted?  Yes, I think, and the terminology covers it, but as of
now, it's difficult for the EPP client to understand the situation.
Extending the &lt;info&gt; command would help here, perhaps.<a href="#appendix-A-4" class="pilcrow">¶</a></p>
<p id="appendix-A-5">Open issue: Creating a primary domain now consists of a two-step
process, &lt;create&gt; and then &lt;update&gt;. The first step turns
all variants into blocked domains, the second makes them
allocatable. It's not clear to me why the two-step process is
desirable, compared to a one-step process where a &lt;create&gt;
command creates a primary domain if the variant group contains other
domains than that one. That needs a couple of sentences of
explanation, or else a change.<a href="#appendix-A-5" class="pilcrow">¶</a></p>
<p id="appendix-A-6">Open issue: &lt;Delete&gt; now cascades and deletes many domains.
Should it instead turn any variant domains into exempted domains?<a href="#appendix-A-6" class="pilcrow">¶</a></p>
<p id="appendix-A-7">Open issue: Should the &lt;info&gt; of the primary domain also return
the list of allocated variants? Probably not — at the moment, this
extension has the client send a set that the server checks, and the
server may need to generate a set for checking, but the server does
not need to generate a list for returning.<a href="#appendix-A-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-B">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">James Galvin</span></div>
<div dir="auto" class="left"><span class="org">Identity Digital</span></div>
<div dir="auto" class="left">
<span class="locality">Bellevue, Washington</span>,  </div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:jgalvin@identity.digital" class="email">jgalvin@identity.digital</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Michael Bauland</span></div>
<div dir="auto" class="left"><span class="org">Knipp Medien und Kommunikation GmbH</span></div>
<div dir="auto" class="left"><span class="locality">Dortmund</span></div>
<div dir="auto" class="left"><span class="country-name">Germany</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:michael.bauland@knipp.de" class="email">michael.bauland@knipp.de</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
